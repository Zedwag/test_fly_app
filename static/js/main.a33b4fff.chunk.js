(this.webpackJsonpliis=this.webpackJsonpliis||[]).push([[0],{36:function(e,t,s){},38:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},43:function(e,t,s){},44:function(e,t,s){},46:function(e,t,s){},47:function(e,t,s){"use strict";s.r(t);var n=s(2),a=s.n(n),r=s(15),c=s(7),i=s(8),o=s(11),l=s(10),A=s(9),d=(s(36),"LOG_IN"),p="LOG_OUT",u="SET_DATE",h="REQUEST_FLIGHTS",g="SET_FLIGHTS",j="ADD_LIKE",m="REMOVE_LIKE";var f=s(1),b=function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).submitHandler=function(t){t.preventDefault(),e.makeFormNormal(e.emailRef),e.makeFormNormal(e.passwordRef);var s=e.emailRef.current.childNodes[1].value,n=e.passwordRef.current.childNodes[1].value,a=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,r=/[A-Za-z0-9]{8,}/;a.test(String(s).toLowerCase())&&r.test(n)?(window.sessionStorage.setItem("isLoggedIn","loggedIn"),e.props.logIn()):(a.test(String(s).toLowerCase())||e.makeFormWarning(e.emailRef),r.test(n)||e.makeFormWarning(e.passwordRef))},e.makeFormWarning=function(e){e.current.childNodes[0].classList.add("form__title_warning"),e.current.childNodes[1].classList.add("form__input_warning"),e.current.childNodes[2].classList.remove("invisible")},e.makeFormNormal=function(e){e.current.childNodes[0].classList.remove("form__title_warning"),e.current.childNodes[1].classList.remove("form__input_warning"),e.current.childNodes[2].classList.add("invisible")},e.emailRef=a.a.createRef(),e.passwordRef=a.a.createRef(),e}return Object(i.a)(s,[{key:"render",value:function(){return Object(f.jsxs)("form",{className:"form",children:[Object(f.jsx)("h2",{className:"form__header",children:"Simple Flight Check"}),Object(f.jsxs)("div",{className:"form__email-container",ref:this.emailRef,children:[Object(f.jsx)("p",{className:"form__title",children:"\u041b\u043e\u0433\u0438\u043d:"}),Object(f.jsx)("input",{type:"email",className:"form__input"}),Object(f.jsx)("p",{className:"form__email-warning invisible",children:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"})]}),Object(f.jsxs)("div",{className:"form__password-container",ref:this.passwordRef,children:[Object(f.jsx)("p",{className:"form__title",children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),Object(f.jsx)("input",{type:"password",className:"form__input"}),Object(f.jsx)("p",{className:"form__password-warning invisible",children:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"})]}),Object(f.jsx)("button",{onClick:this.submitHandler,type:"submit",className:"form__button",children:"\u0412\u043e\u0439\u0442\u0438"})]})}}]),s}(n.Component),O={logIn:function(){return{type:d}}},v=Object(A.b)(null,O)(b),x=(s(38),function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(f.jsx)("div",{className:"login-page",children:Object(f.jsx)(v,{})})}}]),s}(n.Component)),N=s(23),w=(s(39),s(40),s(41),function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).likeClickHandler=function(){e.state.liked?(e.setState({liked:!1}),e.props.removeLike()):(e.setState({liked:!0}),e.props.addLike())},e.state={liked:!1},e}return Object(i.a)(s,[{key:"render",value:function(){return this.props.flight?Object(f.jsxs)("div",{className:"flight",children:[Object(f.jsx)("div",{className:"flyicon-container",children:Object(f.jsx)("img",{className:"flyicon",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAjCAYAAAAe2bNZAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVtSURBVHgBxVhbUhtXEO2+ki38N7ABKyswXoHFCpDz4JUPixUAKwCvAFiBRKXMI1TKsAJgBcgr8HgD9nwlQNDtnHNHGglpRhIhFXeVS8yr77ndfU73tcp3sOjn32paerYh4mu8VtEzr/Je5X+0aOWoqiZN/FkzkUsRO++CATCJy/IfWFRvRlKpNMRbkpz+2sp9Z+3DvHbsAktHvHZY3KueJcercbTyIVEr7T45Mt3dYhGL0oX07NvJytsH7ywdvlPVlqoceJEWbvGbbT4zlQUxq6u47RAZ5lCcq4lqIp1OW+7v28nZejI9EDrV1+J9Q7W0UQTk6/FqI7tfb55pZeaaaTNhTKytCFFDzTGPcX93wT3AaFtN2179lwBSHdPQHgWC3cF4zVpITlbXwzshNXoBMOeDQDJAy4ebqJfd4MPLelnMvYODczio9xyId5GY4Neq5mQeuBtSKgeQs8uHASRCO0/gJrYl952qlspNoErk7q+taYAE4wZLITlxcrraUoQRIdQ33B2LSYpSwiKdmZkPILxUxekrlRTQwGsxgZp1PsHnxlggsLnl410T32CKubb2w81d+vfJydqePMKGQarTRWGBDtXIyHdLR9t4ZwdBWAeQFu9lbEL+9sh33GhRgMZFqXCBnNREvyDtf9/Fg4TIA0JzvT8QkU0+RP3UGKng5KlAuKhz1/K8UpsE5AGYAAgPWTsAFNPJHD6UpwDBosoo/752NgkIrVD0UEs7XWG67H4cTwuENrt0eI364b2daYCMBdMF1NcSj+IekvrciEC3EPDLQfAZENRjT4PyzMkYo8OQNrMrpK1JKo4FwkUpoB2pDQORQHuZ5T36mV0++jzojzZ1b0rVkmnTxO5tS8vSLKqRvNSQ+mDrojLtYnVscJ9ahGhlcuKmBcMPQv/hDsr6cVTQ0IMLgIQaUWMbqQYgJVuQu7tUz8wy0XzcCOF8JB2NsGomaNHy8QYK6gsYs9N7LbdYO9Lm1s0QpT/vYn3+4iL0P6etzL1MacW9BhJp/ZZQyBoIX/g19zIAUYuGW9BUNTNV05PJ9GXR4qeKf3FeLyyTvujQ25rm8xyd+rI3JoQFSO+OfMTu468nK42JQNDFk+O1Vu5LGEc4ZxQ1ZYwQYEUAgtlFbBtDFmkXs+p95/7AmXDEQHTt7WQgugcdKWy0hrkIjJovElCnHI4paBgVv52szQZd8XbuScVSmcNSA4NPYePs64gl2Ew9dPEi6zKq6LHjZAZB20ZjbPAGFkWa1jbBDtI4Dqp5mi/fg9qS0t4iV3lR3M/IKH734x8vc8EIO3WmsEfN3s5SWccusNAICLxD9RwUuaDWEDBUxCYGtnoumB6jyrev8x7355mVo8bAxL6eDsr9eTZ7j8y6LzVFfRXR2BpmzdzKYcvMLZra67zUklEAvJ83xPXnmcHxIW2OD6KSRaPjrrFQ0h0VW8MO/c3tZqif9LA2YpaOpq/yng3PMzEisUBnoVZ4wCII1kal8pnzarqiPygqaE50oReBGOxnOXA+kVETwdDCGYpDNmbYDIQapkDdt9vbH8Kx1Lk3MsZIAuoNjyFIf23ocSwFjBoBo+5ZOISFMxBAhEHdgqLuhDnW/BUWyS/QQUBsrGQq0vWA7grhA+vyGDXam9SHQzl31osE2sBu5tC5y+BsdMejFtJFus/055abm1Tdcxg1AoYAWDfcWYhE5jDVD6aANeV8+t8Z4yzQ3cKQ3+jVT3pKMPqtTgQzfMbuO+zrB67PTcfXTfY9hnFSmQf70AeDg3xGTTVC0KGqHai6ZvTTYZ0nUHmM3d7udOl+MbeEUVOVB76rfwWGlukHpjxed+k7lXXpHjQMpKiHzp7TYv4B0bh/mKz/X08AAAAASUVORK5CYII=",alt:"flyicon"})}),Object(f.jsxs)("div",{className:"flight__content",children:[Object(f.jsxs)("div",{className:"flight__content_details",children:[Object(f.jsx)("h3",{className:"flight__content_cities",children:"Moscow (SVO) \u2192 New York City (JFK)"}),Object(f.jsxs)("p",{className:"flight__content_date",children:[this.props.date.toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric"})," ",this.props.flight.QuoteDateTime.split("T")[1]]}),Object(f.jsx)("p",{className:"flight__content_company",children:this.props.flight.Carrier})]}),Object(f.jsxs)("div",{className:"flight__content_addition",children:[Object(f.jsx)("img",{onClick:this.likeClickHandler,className:"flight__content_icon",src:this.state.liked?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAASCAYAAAC0EpUuAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEfSURBVHgBrZPfbcIwEIfvLuS1ChtkhW5Q1AXaCcp7K7WdgHaC9oEBYAMYAOENYARvgMUrxMcdAYl/iQ3ke4hi56cv57ONsGPx9JdTK/1k9i8AmMuUQ8CRL1a/bfNtj3KU9hhZcpBJ1iKAOcyhPpbP/TcP/F+GziHA7sPkYxjIOcl9aQ71z5i0ZlXCPVL1gIG7UI/jYv1IlKS9kFCJECqZtoaYt71pDO21tCFc5ZVkJG4LTcJsdfljaBBEMgTe/8guOGgCqVLPK8mBdeypc7eYWTzFq14A0nHbvM9L8Y39LYUdEc51iIfftheBkqk0JodYpJCd0O6n8DRzlfiC8KI0WlwhrJQGxTXCWmmlOCAMSs/EEUKFQlIVqEheTYxQ2QBcebrQyEb3VgAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAUCAYAAABmvqYOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGISURBVHgBrVXBcYMwEJRkxvbTHcQdhA5iOnAHsUvw0/4EPxh4JhXYdEAqCOnAHQRXEL4wDGTXgQxDACsOO3MjIe52T3cSSNGAbdvz8Xi8LIpiJqWMYcF2u42afo7jmHi36POT1cR13TmGA8yEBXmen5VSXHtA4AkkGwY3/Hz4xZUfLITtKxFZI36DvSZJguTtuJ4B3tsYHrMsWxuGcYDQy263e27upvKDWRS4kHuex4AzFmzRAQSuyozX8Dv2+FH0Hj7WJWvYh9AAdjTT8QPfJ3uikPFSfNdKhzwWevDZbIPdZknEgGCTMczQaBXB7sSAGI1G5IsUTkeAyVK3ntdAHlRigYRDVdbRn06nT2IAlDwhj6LiAs821dDlfwkwHvVegG/D558byu1MJhNeJF7jvfgjSMyTl6apVZ0qWXe4VaCN+Bf5LQJdxK3kDYETBNY9xPxsmG3EneQ6AteICdVDHqPrFqYmiZrEGOZ9xNoA2bES4MhnnTgpNFES8ofwjjKtxNAov+na+AJyAwf36bUqVQAAAABJRU5ErkJggg==",alt:""}),Object(f.jsxs)("p",{className:"flight__content_price",children:["Price: ",Object(f.jsxs)("span",{className:"flight__content_sum",children:[this.props.flight.Price," \u20bd"]})]})]})]})]}):Object(f.jsx)("div",{className:"flight",children:"..."})}}]),s}(n.Component)),k={addLike:function(){return{type:j}},removeLike:function(){return{type:m}}},_=Object(A.b)((function(e){return{date:e.date}}),k)(w),y=(s(42),function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){var e=this.props.flights.map((function(e){var t=(new Date).getTime();return Object(f.jsx)(_,{flight:e},t)}));return Object(f.jsxs)("div",{className:"flights-list",children:[e,e,e]})}}]),s}(n.Component)),B=Object(A.b)((function(e){return{flights:e.flights}}))(y),E=function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).onDateChange=function(e){n.props.setDate(e),n.props.fetchFlights()},n.mouseDown=!1,n.prevMousePosition=0,n.sliderMoveHandler=function(e){n.mouseDown&&(n.sliderRef.current.scrollLeft=2*(n.prevMousePosition-e.screenX))},n.props.fetchFlights(),n.sliderRef=a.a.createRef(),n}return Object(i.a)(s,[{key:"render",value:function(){var e=this,t=this.props.date.toLocaleString("ru",{year:"numeric",month:"long",day:"numeric"});return(t=t.split(" ")).pop(),t=t.join(" "),Object(f.jsx)("div",{className:"flights",children:Object(f.jsxs)("div",{className:"flights__container",children:[Object(f.jsxs)("div",{className:"flights__header",children:[Object(f.jsxs)("div",{className:"flights__header_cities",children:["\u0412\u044b\u043b\u0435\u0442\u044b",Object(f.jsx)("div",{className:"triangle"}),"SVO - JFK"]}),Object(f.jsxs)("div",{className:"flights__header_date",children:[t,Object(f.jsx)(N.SingleDatePicker,{startDate:this.props.date,minDate:new Date,maxDate:new Date(2100,0,1),dateFormat:"D",monthFormat:"MMM YYYY",startWeekDay:"monday",disabled:!1,className:"date-picker",onChange:function(t){return e.onDateChange(t)}})]})]}),Object(f.jsx)("div",{className:"flights__slider-wrapper",children:Object(f.jsxs)("div",{className:"flights__slider",onMouseMove:this.sliderMoveHandler,onMouseDown:function(t){e.mouseDown=!0,e.prevMousePosition=t.screenX},onMouseUp:function(){e.mouseDown=!1,e.prevMousePosition=0},ref:this.sliderRef,children:[Object(f.jsx)("img",{className:"flights__slider_photo",src:this.props.photos[0],alt:"photo1"}),Object(f.jsx)("img",{className:"flights__slider_photo",src:this.props.photos[1],alt:"photo2"}),Object(f.jsx)("img",{className:"flights__slider_photo",src:this.props.photos[2],alt:"photo3"}),Object(f.jsx)("img",{className:"flights__slider_photo",src:this.props.photos[3],alt:"photo4"}),Object(f.jsx)("img",{className:"flights__slider_photo",src:this.props.photos[4],alt:"photo4"}),Object(f.jsx)("img",{className:"flights__slider_photo",src:this.props.photos[5],alt:"photo4"})]})}),Object(f.jsxs)("p",{className:"flights__favorite",children:["\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435: ",Object(f.jsx)("span",{className:"flights__favorite_number",children:this.props.likes})," \u0440\u0435\u0439\u0441\u043e\u0432"]}),Object(f.jsx)(B,{})]})})}}]),s}(n.Component),I={setDate:function(e){return{type:u,payload:e}},fetchFlights:function(){return{type:h}}},C=Object(A.b)((function(e){return{date:e.date,flights:e.flights,photos:e.photos,likes:e.likes}}),I)(E),Q=(s(43),function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(){var e;Object(c.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).logoutButtonClickHandler=function(t){e.props.logOut(),window.sessionStorage.removeItem("isLoggedIn")},e}return Object(i.a)(s,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"flights-page",children:[Object(f.jsxs)("div",{className:"logout-wrapper",children:["\u0412\u044b\u0439\u0442\u0438",Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFLSURBVHgBrZXBUcMwEEVXtgZ8NB1ACemAdJAZDoEbqoRSPJzMDAfowOmAEhAV4KOAwYtWtomckZR4k3+wJUt6Wu3KuwI8lauqpJf/rX1VGhgSDnhbXwqEyjavA3M0fpmF3aCFGcrcA+EhAnWaCyVJOj4C3FMHO1CQw2Yyw5jZUAeGoigBh97vWdM+33wcspAMSp0kA6bEefF2sa7fKT4nAw+3h0RBb0JwFphcgAKWtqljcLYr2qc7nYLL1OLQDzORMYBSKpHnL9brI3xJmybBFCCyBg5XD19Vi2yPtSxRDGRq0L6uYtcJJlYiuYIMGf2e9rHbwPorNrbNMVvoOJ99KwZoA30MJtCjwCkoG+wFNggl7fVxSP+BTSQiQYP2vn5SB7tOwc/3ZgeigaG+gqzrRsQTPb+CWLxCxMfYJE4FEX7HBYUSvy9bQTjgP0MkojOOv1WVAAAAAElFTkSuQmCC",alt:"logout icon",className:"logout-button",onClick:this.logoutButtonClickHandler})]}),Object(f.jsx)(C,{})]})}}]),s}(n.Component)),Y={logOut:function(){return{type:p}}},D=Object(A.b)(null,Y)(Q),R=(s(44),function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).state={auth:window.sessionStorage.getItem("isLoggedIn")},n}return Object(i.a)(s,[{key:"render",value:function(){return Object(f.jsxs)("div",{className:"app",children:[!this.props.loggedIn&&Object(f.jsx)(x,{}),this.props.loggedIn&&Object(f.jsx)(D,{})]})}}]),s}(n.Component)),T=Object(A.b)((function(e){return{loggedIn:e.loggedIn}}))(R),S=s(13),M=s(25),L=s(5),U=s.p+"static/media/img.ae7bdb64.png",F=s.p+"static/media/img_1.ca3c83c3.png",J=s.p+"static/media/img_2.ef406cf3.png",V=s.p+"static/media/img_3.0a7852ab.png",H=s.p+"static/media/img_4.21446819.png",K=s.p+"static/media/img_5.70e0569a.png",G={loggedIn:window.sessionStorage.getItem("isLoggedIn"),date:new Date,flights:[],photos:[U,F,J,V,H,K],likes:0},X=s(24),P=s(14),W=s.n(P),Z=s(16),z=W.a.mark($),q=W.a.mark(ee);function $(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.d)(h,ee);case 2:case"end":return e.stop()}}),z)}function ee(){var e,t;return W.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(Z.c)();case 2:return e=s.sent,s.next=5,Object(Z.a)(te,e.date);case 5:return t=s.sent,s.next=8,Object(Z.b)({type:g,payload:t});case 8:case"end":return s.stop()}}),q)}function te(e){return se.apply(this,arguments)}function se(){return(se=Object(X.a)(W.a.mark((function e(t){var s,n,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=function(e){return e>9?""+e:"0"+e},n="".concat(t.getFullYear(),"-").concat(s(t.getMonth()+1),"-").concat(s(t.getDate())),e.next=4,fetch("https://skyscanner-skyscanner-flight-search-v1.p.rapidapi.com/apiservices/browseroutes/v1.0/RU/RUB/ru-RU/SVO-sky/JFK-sky/".concat(n),{method:"GET",headers:{"x-rapidapi-key":"b81b53970amshb83d4783e380538p1e6d44jsnaf7b78904250","x-rapidapi-host":"skyscanner-skyscanner-flight-search-v1.p.rapidapi.com"}});case 4:return a=e.sent,e.t0=ne,e.next=8,a.json();case 8:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e){return e.Routes.map((function(t,s){return Object(L.a)(Object(L.a)({},t),{},{Carrier:e.Carriers[s].Name})}))}var ae=Object(M.a)(),re=Object(S.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(L.a)(Object(L.a)({},e),{},{loggedIn:!0});case p:return Object(L.a)(Object(L.a)({},e),{},{loggedIn:!1});case u:return Object(L.a)(Object(L.a)({},e),{},{date:t.payload});case g:return Object(L.a)(Object(L.a)({},e),{},{flights:t.payload});case j:return Object(L.a)(Object(L.a)({},e),{},{likes:e.likes+1});case m:return Object(L.a)(Object(L.a)({},e),{},{likes:e.likes-1});default:return e}}),Object(S.a)(ae));ae.run($);var ce=re,ie=(s(46),Object(f.jsx)(A.a,{store:ce,children:Object(f.jsx)(T,{})}));Object(r.render)(ie,document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.a33b4fff.chunk.js.map